<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Mapbox URLRestrictTest</title>
        <script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
		<link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />
    </head>
    <body>
		<div id='map' style='width: 1200px; height: 900px;'></div>
		<script>
		mapboxgl.accessToken = 'pk.eyJ1Ijoib2dyIiwiYSI6ImNraHhoYWc2dTB6Yjkyd21vNmdiZXZlMzUifQ.OSGdHHSwxA4Dk9XgAKlt2Q';

		//URLパラメータを取得
		var arg = new Object;
		var pair=location.search.substring(1).split('&');
		for(var i=0;pair[i];i++) {
    		var kv = pair[i].split('=');
    		arg[kv[0]]=kv[1];
		}
		
		var mapparam = {
			container: 'map',
			style: 'mapbox://styles/ogr/ckhw0alre0rwr19pamdmtegww'
		};
		if(arg.lng && arg.lat){mapparam.center =  [parseFloat(arg.lng), parseFloat(arg.lat)];}
		if(arg.z){mapparam.zoom = parseFloat(arg.z);}

		var map = new mapboxgl.Map(mapparam);

		</script>

    </body>
</html>